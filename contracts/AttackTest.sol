import 'dapple/test.sol';
import 'dapple/debug.sol';
import 'AttackDAO.sol';

contract RegistryTest is Test {
    AttackDAO attack;
    DumbDAO dumb;

    function setUp() {
        attack = new AttackDAO();
        dumb = new DumbDAO();

        // Give contracts initial funds
        attack.send(50);
        dumb.send(500);
    }

    function testTheStuff() {
        logs('Initial Attacker Balance:');
        log_uint(attack.balance);
        logs('Initial DAO Balance:');
        log_uint(dumb.balance);


        attack.beginAttack(dumb);
        logs('Attack Complete');

        logs('Attacker Balance:');
        log_uint(attack.balance);
        logs('DAO Balance:');
        log_uint(dumb.balance);
    }
}
